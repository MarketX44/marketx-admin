<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Market Mall</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .product-card { transition: transform 0.2s; }
        .product-card:hover { transform: scale(1.03); }
    </style>
</head>
<body class="bg-gray-100">
    <nav class="bg-blue-800 text-white p-4 sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-xl font-bold">MARKET-X</h1>
            <div class="flex gap-4 text-sm">
                <span>Balance: <b id="userBalance">$500.00</b></span>
            </div>
        </div>
    </nav>

    <div class="bg-white shadow-sm overflow-x-auto whitespace-nowrap p-3 flex gap-4 no-scrollbar">
        <button onclick="filterCat('All')" class="px-4 py-1 rounded-full bg-blue-100 text-blue-800 font-medium">All</button>
        <div id="catList" class="flex gap-4"></div>
    </div>

    <div class="container mx-auto p-4">
        <div id="productGrid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
            </div>
        <div id="loadMore" class="text-center p-10 text-gray-400">Loading more products...</div>
    </div>

    <button onclick="toggleChat()" class="fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-2xl">
        üí¨ Help
    </button>

    <div id="chatBox" class="hidden fixed bottom-20 right-6 w-80 bg-white shadow-2xl rounded-2xl overflow-hidden border">
        <div class="bg-blue-800 p-4 text-white font-bold">Customer Service</div>
        <div id="chatContent" class="h-64 p-4 overflow-y-auto text-sm space-y-2">
            <div class="bg-gray-100 p-2 rounded">·Äô·ÄÑ·Ä∫·Äπ·ÄÇ·Äú·Ä¨·Äï·Ä´·Åä ·Äò·Ä¨·ÄÄ·Ä∞·Ää·ÄÆ·Äï·Ä±·Ä∏·Äõ·Äô·Äú·Ä≤·ÄÅ·ÄÑ·Ä∫·Äó·Äª·Ä¨?</div>
        </div>
        <div class="p-2 border-t flex gap-2">
            <input id="chatInput" type="text" class="flex-1 border p-2 rounded-lg outline-none" placeholder="Type message...">
            <button onclick="sendMsg()" class="bg-blue-600 text-white px-3 py-1 rounded-lg">Send</button>
        </div>
    </div>

    <script>
        const categories = ["Electronics", "Women's Fashion", "Men's Fashion", "Watches & Jewelry", "Home & Kitchen", "Beauty & Personal Care", "Sports & Outdoors", "Bags & Accessories", "Shoes & Footwear", "Digital & Gadgets", "Kids & Toy", "Children's Clothing", "Pet Supplies", "Men's Accessories", "Women's Accessories"];
        
        let products = [];
        let displayCount = 20;

        // ·ÅÅ·ÅÄ,·ÅÖ·ÅÄ·ÅÄ Products Generator
        function initProducts() {
            for(let i=1; i<=10500; i++) {
                let cat = categories[i % categories.length];
                products.push({
                    id: i,
                    name: cat + " Item #" + i,
                    price: (Math.random() * 500 + 10).toFixed(2),
                    category: cat,
                    img: `https://picsum.photos/200?random=${i}`
                });
            }
            renderProducts();
        }

        function renderProducts() {
            const grid = document.getElementById('productGrid');
            const items = products.slice(0, displayCount);
            grid.innerHTML = items.map(p => `
                <div class="product-card bg-white p-3 rounded-xl shadow-sm border">
                    <img src="${p.img}" class="w-full h-32 object-cover rounded-lg mb-2">
                    <h3 class="text-xs font-semibold truncate">${p.name}</h3>
                    <p class="text-blue-600 font-bold">$${p.price}</p>
                    <button class="w-full mt-2 bg-gray-800 text-white text-[10px] py-1 rounded">Grab Order</button>
                </div>
            `).join('');
        }

        // Infinite Scroll Logic
        window.onscroll = function() {
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 500) {
                if(displayCount < 10500) {
                    displayCount += 20;
                    renderProducts();
                }
            }
        };

        function toggleChat() { document.getElementById('chatBox').classList.toggle('hidden'); }
        initProducts();
    </script>
</body>
</html>
